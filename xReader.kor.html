<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8' />
	<!--<meta http-equiv="X-UA-Compatible" content="chrome=1" />-->
	<meta name="description" content="xReader KOREAN : Javscript Fucntion for accessing other resource wth YQL" />
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/style.ko.xreader.css">
	<script src="javascripts/jquery.min.js" type="text/javascript"></script>
	<script src="xReader.full.js" type="text/javascript"></script>
	<script src="javascripts/xReader.demo.kor.js" type="text/javascript"></script>
	<title>xReader [한국어 데모]</title>
</head>
<body>
	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<div class="inner">
		  <a id="forkme_banner" href="https://github.com/kincrew/xReader">View on GitHub</a>
		  <h1 id="project_title">xReader v0.0.78a [DEMO]</h1>
		  <h2 id="project_tagline">자유로운 리소스 접근의 최후 해결책</h2>
		</div>
	</div>
	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <div id="main_content" class="inner">
		<h2>xReader 소개</h2>
		<p>xReader는 <a href="http://developer.yahoo.com/yql/" target="_blank">YQL</a>을 경유하여 자바스크립트로 제약없이 외부 컨텐츠를 불러오게 만들어진 함수입니다. </p>
		<div id="info">
			<ul>
				<li>버전 : v0.0.78a - 2012-11-13</li>
				<li>라이선스 : <a href="http://ko.wikipedia.org/wiki/MIT_%ED%97%88%EA%B0%80%EC%84%9C" target="_blank">MIT 허가서</a></li>
				<li>소스   <br/>
					<a href="xReader.full.js" target="_blank">xReader.full.js</a> - 일반 버전 <br/>
					<a href="xReader.micro.js" target="_blank">xReader.micro.js</a> - 최소 버전 (option 미지원, 764 byte)<br/>
					<a href="xReader.xml" target="_blank">xReader.xml</a> - YQL 사용의 open data table</li>
				<li>만든이<br/>
					<a href="http://bootleg.egloos.com/321865" target="_blank">SD05 (블로그)</a>, <br/>
					<a href="mailto:oneiroi@outlook.com" target="_blank">oneiroi@outlook.com</a>
				</li>
				<li>문서<br/>
					<a href="./">xReader 영문 데모</a>
				</li>
			</ul>
		</div>
		<h5 style="font-style:italic;color:#FF0000;">제한 철폐!</h5>
		<p><img src="images/baby.jpg" style="float:right;width:200px;margin-top:-15px;"/>
			타 리소스를 접근 제약으로 인한 지독한 고생? 그에 대한 최후 해결책!
		</p>
		<ul class="strike">
			<li>철폐! XHR의 동일출처정책! (Same-Origin policy) </li>
			<li>철폐! XHR의 CORS 미지원 구형 IE6, IE7, IE8 브라우저 대응!</li>
			<li>철폐! window 및 frame의 도메인 제약! document.domain</li>
			<li>철폐! 마지막으로 YQL의 robots.txt 제약!</li>
		</ul>
		<p> 아주 간단한 xReader를 사용하면서 바로 위의 제약을 해결할 수 있습니다!</p>

		<h5>xReader 사용방법</h5>

		<div class="exCode">
			<span class="gr">&lt;script <span class="or">src</span>=<span class="rd">"http://kincrew.github.com/xReader/xReader.full.js"</span>>&lt;/script></span> <br/>
			<span class="gr">&lt;script <span class="or">type</span>=<span class="rd">"text/javascript"</span>></span> <br/>
			xReader(<span class="rd">"http://www.yahoo.com/"</span>, function(<span class="pp">data</span>) { <br/>
			&nbsp; &nbsp; alert(<span class="pp">data.content</span>); <br/>
			})<br/>
			<div id="exDemo1" class="exButton">실행하기</div>
			<span class="gr">&lt;/script></span>
		</div>
		<p> 
			<a href="xReader.micro.js" target="_blank">xReader.micro.js</a>나 <a href="xReader.full.js" target="_blank">xReader.full.js</a>만 다운받아 사용하시면 됩니다.
		</p>

		<h5>xReader 특징</h5>
		<p>xReader는 구형 IE5.5부터 대부분 브라우저를 지원, charset의 인식 및 redirect 부분도 처리하고 있습니다.</p>
		<ul>
			<li>대부분 브라우저 지원 : IE5.5~, Safari, Chrome, Firefox, Opera, Netscape Navigator9 테스트</li>
			<li>charset 의 자동 및 강제 설정 지원 </li>
			<li>redirect 자동 처리 </li>
			<li>css selector 사용 가능 (XML에 적합) </li>
			<li>html, xml, json, jsonp 등 다양한 텍스트형식 컨텐츠 지원</li>
		</ul>

		<h2>xReader API</h2>
		<div class="exCode">
			xReader(<span class="rd">"URL"</span>, <span class="gr">"CSS"</span>, <span class="rd">callback</span>, <span class="gr"><i>option</i></span>)<br/>
		</div>
		<h5> • [string] URL </h5>
		<ul>
			<li>필수 인자, 문자열 형식, "http://"는 생략 가능 </li>
			<li>URL은 리소스 대상의 위치를 말합니다. </li>
		</ul>
		<h5> • [string] CSS </h5>
		<ul>
			<li>생략 가능, 문자열 형식</li>
			<li>CSS는 CSS 선택자로 해당 리소스의 대상을 제한할 수 있습니다.</li>
			<li>일부 페이지에서 오류 가능성이 있기에 미리 충분히 검토를 해야합니다. </li>
		</ul>
		<h5> • [function] callback(data)</h5>
		<ul>
			<li>필수 인자, 함수 형식 </li>
			<li>callback 함수는 해당 컨텐츠의 로딩이 완료된 후 실행되는 함수입니다.</li>
			<li>callback 함수로 전달 받는 인자는 다음과 같이 구성됩니다.</li>
		</ul>			
		<div style="margin-top:8px;padding:5px 15px;background:#fff;border:5px solid #ddd; font: 14px/18px 'courier new', monospace">
			{<br/>
			&nbsp; &nbsp; headers : [obeject], <span class="gr">// 응답 HTTP 헤더</span><br/>
			&nbsp; &nbsp; content : "컨텐츠" <br/>
			&nbsp; &nbsp; format &nbsp;: "컨텐츠 형식" <br/>
			&nbsp; &nbsp; original : [obeject] <span class="gr">//본래 원본 데이타</span><br/>
			&nbsp; &nbsp; redirect : {	<span class="gr">// Redirect시 생성 객체 (2개 이상이면 배열 형식)</span><br/>
			&nbsp; &nbsp; &nbsp; &nbsp; from &nbsp;  &nbsp;: "URL", <br/>
			&nbsp; &nbsp; &nbsp; &nbsp; to &nbsp; &nbsp; &nbsp;: "URL", <br/>
			&nbsp; &nbsp; &nbsp; &nbsp; status &nbsp;: "" <span class="gr">// 응답 code</span><br/>
			&nbsp; &nbsp; },<br/>
			&nbsp; &nbsp; url &nbsp;  &nbsp; : "URL", <span class="gr">// Redirect시 최종 URL</span> <br/>
			&nbsp; &nbsp; date&nbsp;  &nbsp; : [date], <span class="gr">// content 생성 시각</span> <br/>
			&nbsp; &nbsp; statue &nbsp;: "",  &nbsp;  &nbsp; &nbsp; &nbsp; <span class="gr">// 상태</span> <br/>
			&nbsp; &nbsp; status &nbsp;: "200",  &nbsp;  &nbsp;<span class="gr">// 응답 CODE</span> <br/>
			&nbsp; &nbsp; error &nbsp; : [obeject],  &nbsp;  &nbsp;<span class="gr">// 에러 발생시 생성</span> <br/>
			&nbsp; &nbsp; YQL &nbsp; &nbsp; : [obeject]  &nbsp;  &nbsp; <span class="gr">// YQL 정보</span> <br/>
			&nbsp; &nbsp; xReader : [obeject],  &nbsp; &nbsp;<span class="gr">// xReader 정보</span> <br/>
			&nbsp; &nbsp; option &nbsp;: [obeject],  &nbsp; &nbsp;<span class="gr">// 사용자 설정 옵션 정보</span> <br/>
			&nbsp; &nbsp; maxAge &nbsp;: [number]  &nbsp; &nbsp; &nbsp;<span class="gr">// maxAge 설정시 처리된 값</span> <br/>
			}<br/>
		</div>
		<h5> • [object] option </h5>
		<ul>
			<li>생략 가능, 객체 형식</li>
			<li class="rd">option은 xReader.full.js에서만 지원됩니다.</li>
		</ul>
		<table>
		<tr><th>option</th><th>설명</th><th>기본값 및 가능값 </th></tr>
		<tr><th>cacheBurst</th><td>캐쉬 미사용 [참고: <a href="http://www.yqlblog.net/blog/2010/03/12/avoiding-rate-limits-and-getting-banned-in-yql-and-pipes-caching-is-your-friend/" target="_blank">YQL BLOG</a>]</td><td><u>false</u> | true </td></tr>
		<tr><th>charset</th><td>전송시 사용할 charset (준비중)</td><td>undefined | [string] </td></tr>
		<tr><th>content</th><td>data의 전송 (준비중)</td><td>undefined | [string] </td></tr>
		<tr><th>contentType</th><td>전송시 사용할 content-type (준비중)</td><td>undefined | [string] </td></tr>
		<tr><th>cookie</th><td>대상 http 요청시 사용 cookie </td><td>undefined | [object] </td></tr>
		<tr><th>css</th><td>출력 대상의 css selector 형식으로 선택</td><td>undefined | [string] </td></tr>
		<tr><th>diagnostics</th><td>YQL 진단 검사</td><td> <u>false</u> | true </td></tr>
		<tr><th>format</th><td>최종 결과(data.content)의 형식에 대한 처리</td><td> <u>"text"</u> | "json" | "dom" | "dom2" </td></tr>
		<tr><th>forceCharset</th><td>대상 소스의 charset 강제 지정</td><td>undefined | [string] </td></tr>
		<tr><th>fallbackCharset</th><td>대상 소스의 charset 호환</td><td><u>"utf-8, euc-kr, iso-8859-1"</u> | [string]</td></tr>
		<tr><th>headers</th><td>대상 http 요청시 사용 header </td><td>undefined | [object] </td></tr>
		<tr><th>link</th><td>xReader와 YQL의 연결 방식 </td><td><u>"auto"</u> | "ajax" | "jsonp"</td></tr>
		<tr><th>method</th><td>YQL과 대상의 연결 방식 </td><td><u>"get"</u> | "post" | "head" | "put"</td></tr>
		<tr><th>maxAge</th><td>임의 시간내 캐쉬 우선 사용 (단위, 초)</td><td>undefined | [number] </td></tr>
		<tr><th>maxAgeGlobal</th><td>임의 시간내 캐쉬 우선 전역 사용 (단위, 초)</td><td>undefined | [number] | "reset" </td></tr>
		<tr><th>query</th><td>새로 사용할 YQL의 Query</td><td>undefined | [string] </td></tr>
		<tr><th>param</th><td>url의 추가 param의 사용</td><td>undefined | [object] </td></tr>
		<tr><th>referer</th><td>referer 설정 </td><td>undefined | [string] </td></tr>
		<tr><th>ssl</th><td>xReader와 YQL의 SSL연결</td><td> <u>false</u> | true </td></tr>
		<tr><th>table</th><td> open data table의 지정</td><td><u>"http://kincrew.github.com/xReader.xml"</u> | [string]</td></tr>
		<tr><th>target</th><td>callback 반환값을 해당 DOM 요소에 출력</td><td>undefined | [object] </td></tr>
		<tr><th>tidy</th><td>결과 반환시 element의 parse </td><td> <u>false</u> | true </td></tr>
		<tr><th>timeout</th><td>타임아웃 시간(ms단위)</td><td><u>10000</u> | [number] </td></tr>
		<tr><th>ua</th><td>ua 설정 ("current"사용시, 현재 ua 사용)</td><td> <u>undefined</u> | "current" | [string] </td></tr>
		<tr><th>xpath</th><td>출력 대상의 xpath 형식으로 선택</td><td>undefined | [string] </td></tr>
		</table>
		<ul>
			<li>[cacheBurst] <br/>
				과도한 사용은 YQL로 부터 제약 및 차단될 수 있으니 주의하세요.  (참고, <a href="http://www.yqlblog.net/blog/2010/03/12/avoiding-rate-limits-and-getting-banned-in-yql-and-pipes-caching-is-your-friend/" target="_blank">YQL BLOG</a>)<br/>
				예외적 케이스로 제한된 범위내에 확인 용도로 사용되기를 권합니다.
			</li>
			<li>[maxAge, maxAgeGlobal]<br/>
				설정히 해당 시간(단위, 초)내 접근은 저장된 캐쉬로 다시 사용합니다. <br/>
				동일 대상, 값의 변경시 해당 범위내에 자동으로 reset 됩니다. <br/>
			</li>
			<li>[tidy, css, xpath 사용시]<br/>
				tidy는 오류가능성이 있기에 사전에 충분히 테스트 후 이용하시기 바랍니다.<br/>
				css 및 xpath 옵션 사용시, 내부적으로 tidy 처리되기에 사정은 같습니다.
			</li>
			<li>[timeout]<br/>
				xReader.timeout으로 전체 설정할 수 있습니다.</li>
		</ul>

		<h2>유용한 간단 예제들</h2>

		<h5>HTML</h5>
		<div class="exCode">
			<span class="gr">/* 네이버 뉴스 메인 기사 불러오기 */</span><br/>
			xReader(<span class="rd">"news.naver.com"</span>, <span class="rd">"dl.mtype_head dt a"</span>, function(<span class="pp">data</span>){ <br/>
			&nbsp; &nbsp; alert(<span class="pp">data.content</span>); <br/>
			})
			<div id="exDemo2" class="exButton">실행하기</div>
		</div>
		<p class="fs rd">
			[참고1] xReader.micro.js 버전도 위와 같은 CSS selector 사용 방법을 지원합니다. <br/>
			[참고2] xpath를 이용한 트릭으로 text만 받아올 수 있습니다. "dl.mtype_head dt a" -> "dl.mtype_head dt a/text()"
		</p>
		<!--
		<h5>JSON</h5>
		<div class="exCode">
			xReader(<span class="rd">"kincrew.github.com/xReader/scripts/jsonTest.json"</span>, function(data){ <br/>
			&nbsp; &nbsp; alert(data.content); <br/>
			})
			<div id="exDemo3" class="exButton">실행하기</div>
		</div>
		-->
		<h5>JSON / JSONP</h5>
		<div class="exCode">
			<span class="gr">/* flickr에서 고양이 출력 */</span><br/>
			var <span class="pp">url</span> = <a href="http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json" target="_blank"><span class="rd">"http://api.flickr.com/services/feeds/photos_public.gne?"</span></a>;<br/>
			<span class="pp">url</span> += <span class="rd">"tags=cat&tagmode=any&format=json"</span>;<br/>
			xReader(<span class="pp">url</span>, function(<span class="pp">data</span>){ <br/>
			&nbsp; &nbsp; var <span class="pp">items</span> = data.content.items; <br/>
			&nbsp; &nbsp; var <span class="pp">html</span> = ""; <br/>
			&nbsp; &nbsp; for (var i=0; items.length > i ;i++ ) { <br/>
			&nbsp; &nbsp; &nbsp; &nbsp; <span class="pp">html</span> += "<span class="gr">&lt;div></span>" + items[i].description + "<span class="gr">&lt;/div></span>"; <br/>
			&nbsp; &nbsp; } <br/>
			&nbsp; &nbsp; return <span class="pp">html</span>; <br/>
			},<br/>
			<span class="or">{ <br/>
			&nbsp; &nbsp; format : "json",  <span class="gr">// 대상 변환 형식</span><br/>
			&nbsp; &nbsp; target : document.getElementById("exDemoResult4") <span class="gr">// 출력 대상</span><br/>
			}</span>)<br/>
			<div id="exDemo4" class="exButton">실행하기</div>
		</div>
		<p class="fs rd">
			[참고3] option.format을 json 설정시 객체로 변환되며, json과 jsonp의 구별없이 자동 인식됩니다. <br />
			[참고4] option의 target이 설정되고 callback 함수의 return 값이 있다면, return 값은 target 요소 내부로 바로 추가됩니다.
		</p>
		<div id="exDemoResult4" class="exDemoResult"> 
		</div>
		<h5>RSS / XML</h5>
		<div class="exCode">
			<span class="gr">/* 경향신문 전체뉴스 제목 RSS 출력 */</span><br/>
			xReader(<span class="rd">"www.khan.co.kr/rss/rssdata/total_news.xml"</span>, <span class="rd">"title"</span>, function(<span class="or">data</span>) {<br/>
			&nbsp; &nbsp; <span class="pp">return</span> <span class="rd">"&lt;ul>"</span> + <span class="or">data.content</span>.replace(/title/gi, <span class="rd">"li"</span>) + <span class="rd">"&lt;/ul>"</span><br/>
			}, { <span class="or">target</span> : document.getElementById(<span class="rd">"exDemoResult5"</span>) })
			<div id="exDemo5" class="exButton">실행하기</div>
		</div>
		<div id="exDemoResult5" class="exDemoResult"> 
		</div>
		<h3>FAQ</h3> 
		<ul>
			<li>
				xReader.micro.js 와 xReader.full.js의 차이는 option의 사용여부에 있습니다. <br/>
				xReader.micro.js 는 컨텐츠만 불러오는데 유용한 간결하고 짧은 코드입니다.</li>
		</ul>
		
		<h3>기타</h3>
		<p>본 소스는 <a href="http://developer.yahoo.com/yql/" target="_blank">YQL</a>을 이용하며 open data table을 사용합니다. open data table의 기존 data.headers의 오류 및 확장한 <a href="xReader.xml" target="_blank">xReader.xml</a> 테이블을 사용합니다. 보다 다양한 기능을 원한다면, xClient(작업중)를 이용하면 되겠습니다.</p>

		
		<h3>HISTORY </h3>
		<ul>
			<li>2012-11-16 :  <br/>
				&nbsp; [xReader.micro.js] 771 byte!
			</li>
			<li>2012-11-15 :  <br/>
				&nbsp; [xReader.micro.js] document.close() 추가. IE6의 무한로딩 방지 FIX!
			</li>
			<li>2012-11-14 :  <br/>
				&nbsp; [xReader.micro.js] timeout 오류 fix!<br/>
				&nbsp; [DCOUMENT] 영문 메인 <a href="./">index.html</a> 작성 완료 <br/>
				&nbsp; [xReader.micro.js] 자동 cacheBurst 제거, 구별 table 사용, 내부 id 작동 제거 <br/>
				&nbsp; [xReader.js] <a href="xReader.js" target="_blank">xReader.js</a> 삭제(예정) —› <a href="xReader.micro.js" target="_blank">xReader.micro.js</a>로 제공
			</li>
			<li>2012-11-13 : v0.0.78a <br/>
				&nbsp; [xReader.demo.html] 문서 정리, update<br/>
				&nbsp; [xReader.full.js] 콜백 함수 반환 인자 정리 및 단일화<br/>
				&nbsp; [xReader.full.js] cacheBurst 기본값 —› 비활성 상태로 변경<br/>
				&nbsp; [xReader.full.js] domain에 따른 독자 table 사용 방식으로 변경<br/>
				&nbsp; [xReader.full.js] UPDATE 미반영 테이블 사용 문제 FIX<br/>
				&nbsp; [xReader.full.js] maxAge 적용, maxAgeGlobal 적용 <br/>
				&nbsp; [xReader.full.js] link 적용 (XHR, XDR, JSONP 적용)<br/>
				&nbsp; [xReader.full.js] 독자 error 콜백 사용 제거 —› 기존 콜백 반환 인자로 오류 검출<br/>
				&nbsp; [xReader.full.js] 코드정리<br/>
				&nbsp; [xReader.xml] 저장 위치를 root로 원위치<br/>
				&nbsp; [xReader.xml] 코드정리, maxAge 부분 제거 —› xReader.full.js에서 사용자 설정<br/>
			</li>
			<li>2012-11-10 : v0.0.77a <br/>
				&nbsp; [xReader.full.js] callback 전역 —› xReader 메서드로 변경<br/>
				&nbsp; [xReader.full.js] headers 반환 Fix<br/>
				&nbsp; [xReader.full.js] option.method 확장<br/>
				&nbsp; [xReader.xml] <span class="lt"> uri 변경 (YQL의 미업데이트 때문)</span><br/>
				&nbsp; [xReader.full.js] option.diagnostics 추가 - option.debug에서 결과 반환<br/>
				&nbsp; [xReader.xml] HTTP 객체 형식 헤더 처리 변경 (JSON 프로퍼티 객체) <br/>
			<li>2012-11-06 : v0.0.76a <br/>
				&nbsp; [xReader.full.js] format 차이 없이 인자 반환 (header 생략 방지 필요) <br/>
				&nbsp; [xReader.full.js] option 추가 (charset, fallbackCharset, xpath 적용)<br/>
				&nbsp; [xReader.full.js] option.format에서 json 제거 (jsonp 자동 인식)<br/>
				&nbsp; [xReader.xml] <span class="lt">업데이트 및 위치 변경 (root —› root/yql)</span><br/>
				&nbsp; [xReader.js] timeout 추가
			</li>
			<li>2012-11-04 <br/>
				&nbsp; [xReader.full.js] format 지원(json, jsonp, dom, dom2), target 지원 <br/>
				&nbsp; [xReader.xml] JSONP 오류 수정,  <span class="lt">DATA TABLE  —› param 사용 중지</span>, http:// 자동추가는 테이블로
			</li>
		</ul>

		<h3>지원 및 연락처</h3>
		<p>사용시 문제 및 추가 지원이 필요하다면 <a href="mailto:oneiroi@outlook.com">oneiroi@outlook.com</a>나 <a href="http://bootleg.egloos.com/321865" target="_blank">블로그</a>로 연락하시기 바랍니다.</p>
		<img src="images/yql.gif" style="float:right;width:64px;"/> powered by <a href="http://developer.yahoo.com/yql/" target="_blank">Yahoo! Query Language</a>
		<div class="clear"></div>
	  </div>
	</div>
	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
	  <div class="inner">
		<p class="copyright">xReader maintained by <a href="https://github.com/kincrew">KINcrew</a></p>
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	  </div>
	</div>
</body>
</html>
