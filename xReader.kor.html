<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8' />
	<!--<meta http-equiv="X-UA-Compatible" content="chrome=1" />-->
	<meta name="description" content="xReader KOREAN : Javscript Fucntion for accessing other resource wth YQL" />
	<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/style.ko.xreader.css">
	<script src="javascripts/jquery.min.js" type="text/javascript"></script>
	<script src="xReader.full.js" type="text/javascript"></script>
	<script src="javascripts/xReader.demo.js" type="text/javascript"></script>
	<title>xReader [한국어 데모]</title>
</head>
<body>
	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<div class="inner">
		  <a id="forkme_banner" href="https://github.com/kincrew/xReader">View on GitHub</a>
		  <h1 id="project_title">xReader v0.0.76a [DEMO]</h1>
		  <h2 id="project_tagline">자유로운 리소스 접근의 최후 해결책</h2>
		</div>
	</div>
	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
	  <div id="main_content" class="inner">
		<h3>xReader 소개</h3>
		<p>xReader는 자바스크립트상의 외부의 다른 텍스트 형식 컨텐츠를 제약없이 자유롭게 불러오게 만들어진 함수입니다. </p>
		<ul>
			<li>버전 : v0.0.76a - 2012-11-04</li>
			<li>라이선스 : <a href="http://ko.wikipedia.org/wiki/MIT_%ED%97%88%EA%B0%80%EC%84%9C" target="_blank">MIT 허가서</a></li>
			<li>소스   <br/>
					<a href="xReader.full.js" target="_blank">xReader.full.js</a> - option 지원 일반 버전 <br/>
					<a href="xReader.js" target="_blank">xReader.js</a> - option 미지원 최소 버전 <br/>
					<a href="yql/xReader.xml" target="_blank">xReader.xml</a> - YQL에서 사용하는 open data table</li>
			<li>만든이 : <a href="http://bootleg.egloos.com/321865" target="_blank">SD05 (블로그)</a>, <a href="mailto:oneiroi@outlook.com" target="_blank">oneiroi@outlook.com</a></li>
		</ul>
		<h3 style="font-style:italic;color:#FF0000;">제한 철폐!</h3>
		<p><img src="images/baby.jpg" style="float:right;width:200px;margin-top:-15px;"/>
			타 리소스를 접근 제약으로 지독히 고생중입니까? 최후의 만능 해결 방법이 바로 여기에 있습니다.
		</p>
		<ul class="strike">
			<li>철폐! XHR의 동일출처정책! (Same-Origin policy) </li>
			<li>철폐! XHR의 CORS 미지원 구형 IE6, IE7, IE8 브라우저 대응!</li>
			<li>철폐! window 및 frame의 도메인 제약! document.domain</li>
			<li>철폐! 마지막으로 YQL의 robots.txt 제약!</li>
		</ul>
		<p> 아주 간단한 xReader를 사용하면서 바로 위의 제약을 해결할 수 있습니다!</p>

		<h3>xReader 사용방법</h3>

		<div class="exCode">
			<span class="gr">&lt;script <span class="or">src</span>=<span class="rd">"http://kincrew.github.com/xReader/xReader.full.js"</span>>&lt;/script></span> <br/>
			<span class="gr">&lt;script <span class="or">type</span>=<span class="rd">"text/javascript"</span>></span> <br/>
			xReader(<span class="rd">"http://www.yahoo.com/"</span>, function(<span class="pp">data</span>) { <br/>
			&nbsp; &nbsp; alert(<span class="pp">data.content</span>); <br/>
			})<br/>
			<div id="exDemo1" class="exButton">실행하기</div>
			<span class="gr">&lt;/script></span>
		</div>
		<p> 
			<a href="http://kincrew.github.com/xReader/xReader.full.js" target="_blank">xReader.full.js</a>만 다운받아 사용하시면 됩니다.
		</p>

		<h3>xReader 특징</h3>
		<p>xReader는 구형 IE5.5부터 최근의 대부분 브라우저를 지원하며, 자동적으로 charset의 인식과 redirect 부분까지 처리하고 있습니다.</p>
		<ul>
			<li>거의 모든 브라우저 지원 : IE5.5~, Safari, Chrome, Firefox, Opera, Netscape Navigator9 테스트</li>
			<li>자동 charset 지원 : utf-8, euc-kr, iso-8859-1 </li>
			<li>redirect 헤더 전송시 이동 페이지 적용</li>
			<li>편리한 css selector 사용 가능 </li>
			<li>html, xml, json, jsonp 등 다양한 텍스트형식 컨텐츠 지원</li>
		</ul>

		<h3>xReader API</h3>
		<div class="exCode">
			xReader(<span class="rd">"URL"</span>, <span class="gr">"CSS"</span>, <span class="rd">callback</span>, <span class="gr">error</span>, <span class="gr"><i>option</i></span>)<br/>
		</div>
		<h5> URL </h5>
		<ul>
			<li>필수 인자이고 문자열 형식이어야 하며, "http://"는 생략가능합니다. </li>
			<li>URL은 리소스 대상의 위치를 말합니다. </li>
		</ul>
		<h5> CSS </h5>
		<ul>
			<li>생략 가능하고 문자열 형식이어야 합니다.</li>
			<li>CSS는 CSS 선택자로 해당 리소스의 대상을 제한할 수 있습니다.</li>
			<li>일부 페이지에서 오류 가능성이 있기에 미리 충분히 검토를 해야합니다. </li>
		</ul>
		<h5> callback 함수 (data, option)</h5>
		<ul>
			<li>필수 인자이고 함수 형식이어야 합니다. </li>
			<li>callback 함수는 해당 컨텐츠의 로딩이 완료된 후 실행되는 함수입니다.</li>
			<li>한편 error 함수 미존재시 callback 함수가 대신 실행됩니다.</li>
			<li>callback 함수 실행시 인자(객체)중 첫번째 data는 다음과 같이 구성됩니다.</li>
		</ul>			
		<div style="margin-top:8px;padding:5px 15px;background:#fff;border:5px solid #ddd; font: 14px/18px 'courier new', monospace">
			{<br/>
			&nbsp; &nbsp; redirect : {	<span class="gr">// Redirect시 생성 객체 (2개 이상이면 배열 형식)</span><br/>
			&nbsp; &nbsp; &nbsp; &nbsp; url &nbsp;  &nbsp; : "URL", <br/>
			&nbsp; &nbsp; &nbsp; &nbsp; status &nbsp;: "", <span class="gr">// 응답 code</span><br/>
			&nbsp; &nbsp; &nbsp; &nbsp; headers : {...} <span class="gr">// headers</span><br/>
			&nbsp; &nbsp; },<br/>
			&nbsp; &nbsp; url &nbsp;  &nbsp; : "URL", <span class="gr">// Redirect시 최종 URL</span> <br/>
			&nbsp; &nbsp; status &nbsp;: "200", <span class="gr">// 응답 CODE</span> <br/>
			&nbsp; &nbsp; headers : {...}, <span class="gr">// 응답 HTTP 헤더</span><br/>
			&nbsp; &nbsp; content : "컨텐츠" <br/>
			}<br/>
		</div>
		<h5> error 함수 (data, option)</h5>
		<ul>
			<li>생략 가능하고 함수 형식이어야 합니다. (생략시 callback 함수가 실행됩니다.)</li>
			<li>error 함수는 해당 컨텐츠의 로딩에 문제가 있는 경우 실행되는 함수입니다.</li>
			<li>error 함수에서 실행되는 인자(객체)는 다음과 같이 구성됩니다.</li>
		</ul>			
		<div style="margin-top:8px;padding:5px 15px;background:#fff;border:5px solid #ddd; font: 14px/18px 'courier new', monospace">
			{<br/>
			&nbsp; &nbsp; lang : "en-US", <span class="gr">// 언어</span> <br/>
			&nbsp; &nbsp; description : "오류 내용" <br/>
			}<br/>
		</div>
		<p class="fs rd"> [참고1] error의 발생여부 확인은 data.error의 존재나 option.status == "error"로 가능합니다.</p>
		<h5> option </h5>
		<ul>
			<li>생략 가능하고 객체 형식이어야 합니다.</li>
			<li class="rd">option은 xReader.full.js에서만 지원됩니다.</li>
			<li>option 사용시 다양하며 간편한 사용이 될 수 있습니다.</li>
			<li>option의 기본값과 자세한 설정은 아래를 참고하시기 바랍니다.</li>
		</ul>
		<table>
		<tr><th>option</th><th>설명</th><th>기본값 및 가능값</th></tr>
		<tr><th>charset</th><td>전송시 사용할 charset (준비중)</td><td>""</td></tr>
		<tr><th>content</th><td>data의 전송 (준비중)</td><td>""</td></tr>
		<tr><th>contentType</th><td>전송시 사용할 content-type (준비중)</td><td>""</td></tr>
		<tr><th>cookie</th><td>대상 http 요청시 사용 cookie </td><td>객체</td></tr>
		<tr><th>format</th><td>최종 결과(data.content)의 형식에 대한 처리</td><td> <u>"string"</u> | "json" | "dom" | "dom2" </td></tr>
		<tr><th>forceCharset</th><td>대상 소스의 charset 강제 지정</td><td>""</td></tr>
		<tr><th>fallbackCharset</th><td>대상 소스의 charset 호환</td><td>"utf-8, euc-kr, iso-8859-1"</td></tr>
		<tr><th>headers</th><td>대상 http 요청시 사용 header </td><td>객체</td></tr>
		<tr><th>method</th><td>YQL에서 대상의 연결방식 </td><td><u>"get"</u> | "post"</td></tr>
		<tr><th>query</th><td>새로 사용할 YQL의 Query</td><td>""</td></tr>
		<tr><th>referer</th><td>referer 설정 </td><td>""</td></tr>
		<tr><th>ssl</th><td>xReader와 YQL의 SSL연결</td><td> <u>"0"</u> | "1" </td></tr>
		<tr><th>table</th><td> open data table의 지정</td><td>"http://kincrew.github.com/xReader/xReader.xml"</td></tr>
		<tr><th>target</th><td>callback 반환값을 해당 DOM 요소에 출력</td><td>DOM 요소</td></tr>
		<tr><th>tidy</th><td>결과 반환시 element의 parse </td><td> <u>false</u> | true </td></tr>
		<tr><th>timeout</th><td>타임아웃 시간(ms단위)</td><td>10000 (10초)</td></tr>
		<tr><th>ua</th><td>ua 설정 ("current"사용시, 현재 ua 사용)</td><td> <u>미설정</u> | "current" | "사용자 설정"</td></tr>
		</table>
		<ul>
			<li>callback및 error 함수에서 전달받은 option인자에 유용한 추가적 프로퍼티가 있습니다. <br/>
				id, query, statement, problem, status, table, result 등
			</li>
			<li>
				tidy 옵션은 특히 xml 문서의 요소를 객체로 직접 받아 사용할 경우 상당히 유용합니다. <br/>
				그러나 적절히 escape되지 않은 문서인 경우 오류가능성이 있기에 미리 충분한 확인히 필요합니다.
			</li>
			<li>timeout은 xReader.timeout으로 전체 설정할 수 있습니다.</li>
			<li>아직 충분히 테스트되지 못한 옵션 및 향후 변경 가능성도 있습니다.</li>
		</ul>

		<h3>유용한 간단 예제들</h3>

		<h5>HTML</h5>
		<div class="exCode">
			<span class="gr">/* 네이버 뉴스 메인 기사 불러오기 */</span><br/>
			xReader(<span class="rd">"news.naver.com"</span>, <span class="rd">"dl.mtype_head dt a"</span>, function(<span class="pp">data</span>){ <br/>
			&nbsp; &nbsp; alert(<span class="pp">data.content</span>); <br/>
			})
			<div id="exDemo2" class="exButton">실행하기</div>
		</div>
		<!--
		<h5>JSON</h5>
		<div class="exCode">
			xReader(<span class="rd">"kincrew.github.com/xReader/scripts/jsonTest.json"</span>, function(data){ <br/>
			&nbsp; &nbsp; alert(data.content); <br/>
			})
			<div id="exDemo3" class="exButton">실행하기</div>
		</div>
		-->
		<h5>JSONP / JSON</h5>
		<div class="exCode">
			<span class="gr">/* flickr에서 고양이 출력 */</span><br/>
			var <span class="pp">url</span> = <a href="http://api.flickr.com/services/feeds/photos_public.gne?tags=cat&tagmode=any&format=json" target="_blank"><span class="rd">"http://api.flickr.com/services/feeds/photos_public.gne?"</span></a>;<br/>
			<span class="pp">url</span> += <span class="rd">"tags=cat&tagmode=any&format=json"</span>;<br/>
			xReader(<span class="pp">url</span>, function(<span class="pp">data</span>){ <br/>
			&nbsp; &nbsp; var <span class="pp">items</span> = data.content.items; <br/>
			&nbsp; &nbsp; var <span class="pp">html</span> = ""; <br/>
			&nbsp; &nbsp; for (var i=0; items.length > i ;i++ ) { <br/>
			&nbsp; &nbsp; &nbsp; &nbsp; <span class="pp">html</span> += "<span class="gr">&lt;div></span>" + items[i].description + "<span class="gr">&lt;/div></span>"; <br/>
			&nbsp; &nbsp; } <br/>
			&nbsp; &nbsp; return <span class="pp">html</span>; <br/>
			},<br/>
			<span class="or">{ <br/>
			&nbsp; &nbsp; format : "json",  <span class="gr">// 대상 변환 형식</span><br/>
			&nbsp; &nbsp; target : document.getElementById("exDemoResult4") <span class="gr">// 출력 대상</span><br/>
			}</span>)<br/>
			<div id="exDemo4" class="exButton">실행하기</div>
		</div>
		<p class="fs rd">
			[참고2] option의 target이 설정되고 callback 함수의 return 값이 있다면, return 값은 target 요소 내부로 바로 추가됩니다.<br />
			[참고3] jsonp은 option.format을 json으로 사용하여야 하며 자동으로 변환 됩니다. </p>
		<div id="exDemoResult4" class="exDemoResult"> 
		</div>
		<h5>RSS / XML</h5>
		<div class="exCode">
			<span class="gr">/* 경향신문 전체뉴스 제목 RSS 출력 */</span><br/>
			xReader(<span class="rd">"www.khan.co.kr/rss/rssdata/total_news.xml"</span>, <span class="rd">"title"</span>, function(<span class="or">data</span>) {<br/>
			&nbsp; &nbsp; <span class="pp">return</span> <span class="rd">"&lt;ul>"</span> + <span class="or">data.content</span>.replace(/title/gi, <span class="rd">"li"</span>) + <span class="rd">"&lt;/ul>"</span><br/>
			}, { <span class="or">target</span> : document.getElementById(<span class="rd">"exDemoResult5"</span>) })
			<div id="exDemo5" class="exButton">실행하기</div>
		</div>
		<div id="exDemoResult5" class="exDemoResult"> 
		</div>
		<h3>FAQ</h3> 
		<ul>
			<li>
				xReader.js와 xReader.full.js의 차이는 option의 사용여부에 있습니다. <br/>
				xReader.js는 컨텐츠만 불러오는데 유용한 간결하고 짧은 코드입니다.</li>
		</ul>
		
		<h3>기타</h3>
		<p>본 소스는 <a href="http://developer.yahoo.com/yql/" target="_blank">YQL</a>을 이용하며 open data table을 사용합니다. open data table의 data.headers를 수정한 <a href="yql/xReader.xml" target="_blank">xReader.xml</a> 테이블을 사용합니다. 보다 다양한 기능을 원한다면, xClient(작업중)를 이용하면 되겠습니다.</p>

		
		<h3>HISTORY </h3>
		<ul>
			<li>2012-11-06 <br/>
				&nbsp; (오전) format에 따르는 차이 없이 data 인자 반환 (기존 일부 format에서 header 생략의 방지 필요) <br/>
				&nbsp; (오전) option 추가 (charset, fallbackCharset, xpath 적용)<br/>
				&nbsp; (오전) option.format에서 json 제거 (jsonp 자동 인식)<br/>
				&nbsp; (오전) xReader.xml의 업데이트 및 위치 변경 (root -> root/yql) <br/>
				&nbsp; (오후) xReader.js의 timeout 추가
			</li>
			<li>2012-11-04 <br/>
				&nbsp; format 테스트 및 지원 (json, jsonp, dom, dom2), target 지원 <br/>
				&nbsp; JSONP 오류 수정, DATA TABLE  - param 사용 중지, URL의 http:// 추가는 테이블상으로 변경
			</li>
		</ul>

		<h3>지원 및 연락처</h3>
		<p>사용에 문제가 있거나 의문 및 추가적 지원이 필요하다면 <a href="mailto:oneiroi@outlook.com">oneiroi@outlook.com</a>나 <a href="http://bootleg.egloos.com/321865" target="_blank">블로그</a>로 연락하시기 바랍니다.</p>
		<img src="images/yql.gif" style="float:right;width:64px;"/> powered by <a href="http://developer.yahoo.com/yql/" target="_blank">Yahoo! Query Language</a>
		<div class="clear"></div>
	  </div>
	</div>
	<!-- FOOTER  -->
	<div id="footer_wrap" class="outer">
	  <div class="inner">
		<p class="copyright">xReader maintained by <a href="https://github.com/kincrew">KINcrew</a></p>
		<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
	  </div>
	</div>
</body>
</html>
